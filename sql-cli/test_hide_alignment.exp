#!/usr/bin/env expect
set timeout 5

# Start the application
spawn ./target/release/sql-cli test_alignment_simple.csv -e "select * from data"

# Wait for initial display
sleep 0.5

# Press H to hide column (should hide ColA since we're on first column)
send "H"
sleep 0.3

# Take a screenshot for debugging
send "\x05"  ;# F5 for debug
sleep 0.2

# Navigate right to see other columns
send "l"
sleep 0.2
send "l"
sleep 0.2

# Hide another column (ColD)
send "H"
sleep 0.3

# Press F5 to show debug view
send "\x05"
sleep 0.5

# Exit
send "q"
expect eof