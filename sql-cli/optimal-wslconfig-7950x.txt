[wsl2]
# Optimized for Ryzen 9 7950X (16 cores/32 threads) with 64GB RAM
# Primary use: Docker/WSL2 development with Windows IDEs

# Memory: Give WSL2 40GB (leaving 24GB for Windows/IDEs)
memory=40GB

# CPU: Give WSL2 access to 24 logical processors (leaving 8 for Windows)
# This ensures Windows/RustRover stays responsive
processors=24

# Generous swap for Docker containers
swap=20GB

# Optional: Put swap on fastest NVMe drive if not C:
# swapFile=D:\\WSL\\swap.vhdx

# Performance optimizations for development
localhostForwarding=true
nestedVirtualization=true   # Essential for Docker
pageReporting=false         # Better performance
guiApplications=true        # If you ever need GUI apps
vmIdleTimeout=60000         # Keep VM warm (60 seconds)

# Network optimizations
networkingMode=mirrored     # Better network compatibility
dnsTunneling=true          # Improved DNS resolution
firewall=true              # Windows Defender firewall applies to WSL
autoProxy=true             # Use Windows proxy settings

# After saving to C:\Users\sjame\.wslconfig:
# 1. PowerShell (Admin): wsl --shutdown
# 2. Wait 5 seconds
# 3. Start WSL2
# 4. Verify with: free -h